# Web サービス「Sweet Sprouts」要件定義書

## 1. サービス名

- **Sweet Sprouts**

---

## 2. ターゲットユーザー

- 乳幼児を育てる保護者（特に乳児期の保護者）
- 複数のお子さんを育てる保護者
- 複数の養育者（両親、祖父母、その他の Guardian）で子育てを行う家庭（役割に応じた権限管理）

---

## 3. MVP（Minimum Viable Product）の機能要件

最初のリリースで提供する**コア機能**は以下の通りです。

### 3.1. 認証機能

- **ユーザー登録**: メールアドレスとパスワードによる新規ユーザー登録。
- **ログイン機能**: 登録済みユーザーがメールアドレスとパスワードでログイン。

### 3.2. お子さん情報管理

- **お子さんの登録**: お子さんの名前を登録できる（生年月日、性別はオプション）。
- **お子さんの選択/切り替え**: 記録入力時や閲覧時に、どのお子さんの記録かを明確に選択・切り替えできる UI を提供。
- **お子さんの情報更新/削除**: 登録したお子さんの情報を編集・削除できる。

### 3.3. 記録機能

- **授乳記録**:
  - **種類**: **直接授乳**、**搾乳（母乳）**、**ミルク**のいずれかを選択。
    - **直接授乳の場合**: 左右どちらからの授乳か（左、右、両方）を選択できるようにする。
    - **搾乳（母乳）の場合**: 量（ミリリットル単位）を入力。
    - **ミルクの場合**: 量（ミリリットル単位）を入力。
    - **開始時刻**: 記録開始時刻の入力（デフォルトで現在時刻、修正可能）。
    - **終了時刻**: 記録終了時刻の入力（開始時刻以降、修正可能）。
  - **メモ**: 自由記述のメモ（最大 200 字程度）。
- **排泄記録**:
  - **種類**: **うんち**、**おしっこ**のいずれかを選択。
  - **うんちの状態**: 固形、ゆるい、下痢、その他の選択肢から選択（うんちの場合のみ）。
  - **時刻**: 記録発生時刻の入力（デフォルトで現在時刻、修正可能）。
  - **メモ**: 自由記述のメモ（最大 200 字程度）。

### 3.4. 記録の閲覧・管理

- **タイムライン表示**:
  - 選択中のお子さんの記録を、日別に時系列で一覧表示。
  - 授乳と排泄の記録が混在して表示される。
  - 日付を切り替えて過去の記録を閲覧できる。
- **記録の編集・削除**: 登録済みの各記録を後から修正・削除できる。

---

## 4. ユーザーロールと権限（全てのロールでログイン必須）

### 4.1. 管理者ロール（Admin）

- **想定ユーザー**: サービス管理者、または初期のテストユーザー。
- **権限**: サービスの全機能にアクセス可能。
  - ユーザー管理（閲覧、追加、編集、削除）。
  - 全てのお子さん管理（閲覧、追加、編集、削除）。
  - 全ての授乳・排泄記録管理（閲覧、追加、編集、削除）。
  - サービス全体の各種設定変更（将来的な機能）。

### 4.2. 保護者ロール（Guardian）

- **想定ユーザー**: お子さんの主要な保護者（両親など）。
- **権限**: 自身が登録したお子さんの情報と記録の管理。
  - 自身が登録したお子さん情報（閲覧、追加、編集、削除）。
  - 自身が登録したお子さんの授乳・排泄記録（閲覧、追加、編集、削除）。
  - 自身のユーザー情報やアプリ設定の変更。

### 4.3. 閲覧者ロール（Viewer）

- **想定ユーザー**: 家族内の他のメンバー（例: 祖父母など）。
- **権限**: 記録の閲覧に特化。
  - 指定されたお子さんの授乳・排泄記録のみ閲覧可能。
    - **MVP の範囲**: 現段階では、具体的な「記録共有機能」は MVP 後のフェーズで実装を検討。本ロールは、システム上での権限管理の概念として定義し、実際の利用は制限された形となる。

---

## 5. 非機能要件

### 5.1. ユーザビリティ・UI/UX

- **モバイル最適化**: スマートフォンでの片手操作に最適化されたシンプルで直感的な UI/UX。主要なボタンは親指で届きやすい位置に配置。
- **視認性**: フォントサイズ、ボタンの大きさ、色のコントラストなど、視認性を確保。
- **入力補助**: 時刻ピッカーやテンキーの自動表示など、入力の手間を軽減。

### 5.2. パフォーマンス・安定性

- **高速な動作**: 記録入力や画面遷移がストレスなく行える。
- **安定した稼働**: サービスが常に利用可能であること。

### 5.3. スケーラビリティ

- 初期は小規模なアクセスを想定するが、将来的なユーザー数・記録数の増加に対応できる基盤。

### 5.4. セキュリティ

- ユーザー認証情報（特にパスワード）の厳重な保護。
- 機微な記録データの適切な保護とアクセス制御。

### 5.5. コストと運用負荷

- **低コスト**: MVP フェーズでは、月額利用料を限りなく無料に近づけることを最優先とする。
- **低運用負荷**: インフラ管理の自動化・簡素化により、運用作業の手間を最小限に抑える。

---

## 6. 今後の機能拡張（MVP 後の検討事項）

- 前回の授乳、排泄からの経過時間表示機能。
- リマインダー・通知機能（次の授乳予測、おむつ交換時間など）。
- 授乳中のタイマー機能。
- 睡眠、体温、体重、お薬など、その他の育児記録機能の追加。
- 記録データのグラフ表示や統計分析機能。
- 複数ユーザー（家族）間での記録共有機能の本格実装（閲覧者ロールの活用）。
- 記録データのエクスポート機能。

---
